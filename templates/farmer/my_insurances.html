{% extends 'base.html' %}

{% block title %}My Insurances - AgriSure{% endblock %}

{% block content %}
<div class="container-fluid">
    <h1 class="mt-4">My Insurance Policies</h1>
    <p>Here are the insurance plans you have purchased.</p>

    {% if insurances %}
        <div class="list-group mt-4">
            {% for insurance in insurances %}
                <div class="list-group-item list-group-item-action flex-column align-items-start mb-3 shadow-sm">
                    <div class="d-flex w-100 justify-content-between">
                        <h5 class="mb-1">{{ insurance.plan_name }}</h5>
                        <small>Purchased: {{ insurance.purchase_date }}</small>
                    </div>
                    <p class="mb-1">
                        <strong>Premium Paid:</strong> {{ insurance.premium_paid }} | 
                        <strong>Coverage:</strong> {{ insurance.coverage }}
                    </p>
                    <p class="mb-1">
                        <strong>Receipt ID:</strong> {{ insurance.receipt_id }}
                    </p>
                    <div class="mt-2">
                        <!-- TODO: Add actual links/buttons to view/download documents -->
                        <button class="btn btn-sm btn-outline-primary me-2" disabled>View Policy Doc (N/A)</button>
                        <button class="btn btn-sm btn-outline-secondary" disabled>View Uploaded Docs (N/A)</button>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}        <div class="alert alert-info mt-4" role="alert">
            You have not purchased any insurance plans yet. <a href="{{ url_for('farmer.insurance_plans') }}" class="alert-link">Find a plan</a> to get started.
        </div>
    {% endif %}

</div>
{% endblock %}
